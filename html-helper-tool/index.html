<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <div class="main-container">
        <div class="app-header">
            <div class="left-block">
                <div class="title">Waveshare ESP32 - Image tester</div>
            </div>
            <div class="right-block">
                <button class="clear-btn" onclick="clearDisplay()">Clear Display</button>
            </div>
        </div>
        <div class="app-content">
            <div class="left-block">
                <div class="title">Settings</div>
                <div class="content">
                    <div class="input-block">
                        <label for="wsu">Device IP : </label>
                        <input id="wsu" type="text" value="192.168.1.152" placeholder="xxx.xxx.x.xxx" />
                        <button onclick="connectSocket()">Connect to socket</button>
                    </div>
                    <div class="input-block">
                        <label for="noltr">Number of lines to send per payload : </label>
                        <input id="noltr" onchange="updateLinePerPayload()" type="number" value="7" placeholder="7" />
                    </div>
                    <div class="image-settings">
                        <div class="input-block">
                            <label for="imgData">Image pixel data (hex string array): </label>
                            <textarea id="imgData" onchange="updateJsonPayloadImage()" placeholder="image pixel data as hex"></textarea>
                            <div class="image-upload-converter">
                                <input id="img" type="file">
                            </div>
                        </div>
                        <div class="input-block">
                            <label for="imgWidth">Image (width x height) : </label>
                            <div class="inputs">
                                <input id="imgWidth" onchange="updateJsonPayloadWidth()" type="number" value="467" placeholder="width in px" />
                                <span class="sep">x</span>
                                <input id="imgHeight" onchange="updateJsonPayloadHeight()" type="number" value="700" placeholder="height in px" />
                            </div>
                        </div>
                        <div class="input-block">
                            <label for="imgX">Image (x,y) : </label>
                            <div class="inputs">
                                <input id="imgX" onchange="updateJsonPayloadX()" type="number" value="0" placeholder="x" />
                                <span class="sep">,</span>
                                <input id="imgY" onchange="updateJsonPayloadY()" type="number" value="0" placeholder="y" />
                            </div>
                        </div>
                        <div class="input-block">
                            <label for="imgData">Simulator rendering algo: </label>
                            <div class="checkbox">
                                <label for="algo1">Algorithm 1 :</label>
                                <input type="checkbox" onchange="algoSelected(event)" id="algo1" checked disabled />
                            </div>
                            <div class="checkbox">
                                <label for="algo2">Algorithm 2 :</label>
                                <input type="checkbox" onchange="algoSelected(event)" id="algo2" />
                            </div>
                        </div>
                    </div>
                    <div class="render-image-btn">
                        <button onclick="sendImage()" type="button">Send image to device</button>
                    </div>
                </div>
            </div>
            <div class="right-block">
                <div class="simulator"></div>
                <div class="console">
                    <div class="title">Console</div>
                    <div class="console-content"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>